const CACHE_NAME='est-cache-v4';const ASSETS=['./','./index.html','./style.css','./script.js','./manifest.json'];self.addEventListener('install',e=>{e.waitUntil(caches.open(CACHE_NAME).then(c=>c.addAll(ASSETS)).then(()=>self.skipWaiting()))});self.addEventListener('activate',e=>{e.waitUntil(clients.claim())});self.addEventListener('fetch',e=>{e.respondWith(caches.match(e.request).then(resp=>{const net=fetch(e.request).then(r=>{if(r&&r.status===200){caches.open(CACHE_NAME).then(c=>c.put(e.request,r.clone()));}return r;}).catch(()=>{});return resp||net;}));});